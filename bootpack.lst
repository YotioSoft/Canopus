     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_io_hlt
     7 00000000                                 	EXTERN	_io_load_eflags
     8 00000000                                 	EXTERN	_io_cli
     9 00000000                                 	EXTERN	_io_out8
    10 00000000                                 	EXTERN	_io_store_eflags
    11 00000000                                 [FILE "bootpack.c"]
    12                                          [SECTION .text]
    13 00000000                                 	GLOBAL	_HariMain
    14 00000000                                 _HariMain:
    15 00000000 55                              	PUSH	EBP
    16 00000001 89 E5                           	MOV	EBP,ESP
    17 00000003 E8 00000064                     	CALL	_init_palette
    18 00000008 6A 78                           	PUSH	120
    19 0000000A 6A 78                           	PUSH	120
    20 0000000C 6A 14                           	PUSH	20
    21 0000000E 6A 14                           	PUSH	20
    22 00000010 6A 01                           	PUSH	1
    23 00000012 68 00000140                     	PUSH	320
    24 00000017 68 000A0000                     	PUSH	655360
    25 0000001C E8 0000005E                     	CALL	_boxfill8
    26 00000021 68 00000096                     	PUSH	150
    27 00000026 68 000000AA                     	PUSH	170
    28 0000002B 6A 32                           	PUSH	50
    29 0000002D 6A 46                           	PUSH	70
    30 0000002F 6A 02                           	PUSH	2
    31 00000031 68 00000140                     	PUSH	320
    32 00000036 68 000A0000                     	PUSH	655360
    33 0000003B E8 0000003F                     	CALL	_boxfill8
    34 00000040 83 C4 38                        	ADD	ESP,56
    35 00000043 68 000000B4                     	PUSH	180
    36 00000048 68 000000DC                     	PUSH	220
    37 0000004D 6A 50                           	PUSH	80
    38 0000004F 6A 78                           	PUSH	120
    39 00000051 6A 04                           	PUSH	4
    40 00000053 68 00000140                     	PUSH	320
    41 00000058 68 000A0000                     	PUSH	655360
    42 0000005D E8 0000001D                     	CALL	_boxfill8
    43 00000062 83 C4 1C                        	ADD	ESP,28
    44 00000065                                 L5:
    45 00000065 E8 [00000000]                   	CALL	_io_hlt
    46 0000006A EB F9                           	JMP	L5
    47                                          [SECTION .data]
    48 00000000                                 _table_rgb.0:
    49 00000000 00                              	DB	0
    50 00000001 00                              	DB	0
    51 00000002 00                              	DB	0
    52 00000003 FF                              	DB	-1
    53 00000004 00                              	DB	0
    54 00000005 00                              	DB	0
    55 00000006 00                              	DB	0
    56 00000007 FF                              	DB	-1
    57 00000008 00                              	DB	0
    58 00000009 FF                              	DB	-1
    59 0000000A FF                              	DB	-1
    60 0000000B 00                              	DB	0
    61 0000000C 00                              	DB	0
    62 0000000D 00                              	DB	0
    63 0000000E FF                              	DB	-1
    64 0000000F FF                              	DB	-1
    65 00000010 00                              	DB	0
    66 00000011 FF                              	DB	-1
    67 00000012 00                              	DB	0
    68 00000013 FF                              	DB	-1
    69 00000014 FF                              	DB	-1
    70 00000015 FF                              	DB	-1
    71 00000016 FF                              	DB	-1
    72 00000017 FF                              	DB	-1
    73 00000018 C6                              	DB	-58
    74 00000019 C6                              	DB	-58
    75 0000001A C6                              	DB	-58
    76 0000001B 84                              	DB	-124
    77 0000001C 00                              	DB	0
    78 0000001D 00                              	DB	0
    79 0000001E 00                              	DB	0
    80 0000001F 84                              	DB	-124
    81 00000020 00                              	DB	0
    82 00000021 84                              	DB	-124
    83 00000022 84                              	DB	-124
    84 00000023 00                              	DB	0
    85 00000024 00                              	DB	0
    86 00000025 00                              	DB	0
    87 00000026 84                              	DB	-124
    88 00000027 84                              	DB	-124
    89 00000028 00                              	DB	0
    90 00000029 84                              	DB	-124
    91 0000002A 00                              	DB	0
    92 0000002B 84                              	DB	-124
    93 0000002C 84                              	DB	-124
    94 0000002D 84                              	DB	-124
    95 0000002E 84                              	DB	-124
    96 0000002F 84                              	DB	-124
    97                                          [SECTION .text]
    98 0000006C                                 	GLOBAL	_init_palette
    99 0000006C                                 _init_palette:
   100 0000006C 55                              	PUSH	EBP
   101 0000006D 89 E5                           	MOV	EBP,ESP
   102 0000006F 68 [00000000]                   	PUSH	_table_rgb.0
   103 00000074 6A 0F                           	PUSH	15
   104 00000076 6A 00                           	PUSH	0
   105 00000078 E8 00000053                     	CALL	_set_palette
   106 0000007D C9                              	LEAVE
   107 0000007E C3                              	RET
   108 0000007F                                 	GLOBAL	_boxfill8
   109 0000007F                                 _boxfill8:
   110 0000007F 55                              	PUSH	EBP
   111 00000080 89 E5                           	MOV	EBP,ESP
   112 00000082 57                              	PUSH	EDI
   113 00000083 56                              	PUSH	ESI
   114 00000084 53                              	PUSH	EBX
   115 00000085 51                              	PUSH	ECX
   116 00000086 51                              	PUSH	ECX
   117 00000087 8A 45 10                        	MOV	AL,BYTE [16+EBP]
   118 0000008A 8B 4D 18                        	MOV	ECX,DWORD [24+EBP]
   119 0000008D 8B 7D 1C                        	MOV	EDI,DWORD [28+EBP]
   120 00000090 88 45 F3                        	MOV	BYTE [-13+EBP],AL
   121 00000093 3B 4D 20                        	CMP	ECX,DWORD [32+EBP]
   122 00000096 7F 31                           	JG	L19
   123 00000098 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   124 0000009B 0F AF D9                        	IMUL	EBX,ECX
   125 0000009E                                 L17:
   126 0000009E 8B 55 14                        	MOV	EDX,DWORD [20+EBP]
   127 000000A1 39 FA                           	CMP	EDX,EDI
   128 000000A3 7F 1B                           	JG	L21
   129 000000A5 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   130 000000A8 01 DE                           	ADD	ESI,EBX
   131 000000AA 01 D6                           	ADD	ESI,EDX
   132 000000AC 89 75 EC                        	MOV	DWORD [-20+EBP],ESI
   133 000000AF                                 L16:
   134 000000AF 8B 75 EC                        	MOV	ESI,DWORD [-20+EBP]
   135 000000B2 8A 45 F3                        	MOV	AL,BYTE [-13+EBP]
   136 000000B5 42                              	INC	EDX
   137 000000B6 88 06                           	MOV	BYTE [ESI],AL
   138 000000B8 46                              	INC	ESI
   139 000000B9 89 75 EC                        	MOV	DWORD [-20+EBP],ESI
   140 000000BC 39 FA                           	CMP	EDX,EDI
   141 000000BE 7E EF                           	JLE	L16
   142 000000C0                                 L21:
   143 000000C0 41                              	INC	ECX
   144 000000C1 03 5D 0C                        	ADD	EBX,DWORD [12+EBP]
   145 000000C4 3B 4D 20                        	CMP	ECX,DWORD [32+EBP]
   146 000000C7 7E D5                           	JLE	L17
   147 000000C9                                 L19:
   148 000000C9 58                              	POP	EAX
   149 000000CA 5A                              	POP	EDX
   150 000000CB 5B                              	POP	EBX
   151 000000CC 5E                              	POP	ESI
   152 000000CD 5F                              	POP	EDI
   153 000000CE 5D                              	POP	EBP
   154 000000CF C3                              	RET
   155 000000D0                                 	GLOBAL	_set_palette
   156 000000D0                                 _set_palette:
   157 000000D0 55                              	PUSH	EBP
   158 000000D1 89 E5                           	MOV	EBP,ESP
   159 000000D3 57                              	PUSH	EDI
   160 000000D4 56                              	PUSH	ESI
   161 000000D5 53                              	PUSH	EBX
   162 000000D6 51                              	PUSH	ECX
   163 000000D7 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   164 000000DA 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   165 000000DD 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   166 000000E0 E8 [00000000]                   	CALL	_io_load_eflags
   167 000000E5 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   168 000000E8 E8 [00000000]                   	CALL	_io_cli
   169 000000ED 53                              	PUSH	EBX
   170 000000EE 68 000003C8                     	PUSH	968
   171 000000F3 E8 [00000000]                   	CALL	_io_out8
   172 000000F8 39 FB                           	CMP	EBX,EDI
   173 000000FA 58                              	POP	EAX
   174 000000FB 5A                              	POP	EDX
   175 000000FC 7E 12                           	JLE	L27
   176 000000FE                                 L29:
   177 000000FE 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   178 00000101 89 45 08                        	MOV	DWORD [8+EBP],EAX
   179 00000104 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   180 00000107 5B                              	POP	EBX
   181 00000108 5E                              	POP	ESI
   182 00000109 5F                              	POP	EDI
   183 0000010A 5D                              	POP	EBP
   184 0000010B E9 [00000000]                   	JMP	_io_store_eflags
   185 00000110                                 L27:
   186 00000110 8A 06                           	MOV	AL,BYTE [ESI]
   187 00000112 43                              	INC	EBX
   188 00000113 C0 E8 02                        	SHR	AL,2
   189 00000116 0F B6 C0                        	MOVZX	EAX,AL
   190 00000119 50                              	PUSH	EAX
   191 0000011A 68 000003C9                     	PUSH	969
   192 0000011F E8 [00000000]                   	CALL	_io_out8
   193 00000124 8A 46 01                        	MOV	AL,BYTE [1+ESI]
   194 00000127 C0 E8 02                        	SHR	AL,2
   195 0000012A 0F B6 C0                        	MOVZX	EAX,AL
   196 0000012D 50                              	PUSH	EAX
   197 0000012E 68 000003C9                     	PUSH	969
   198 00000133 E8 [00000000]                   	CALL	_io_out8
   199 00000138 8A 46 02                        	MOV	AL,BYTE [2+ESI]
   200 0000013B C0 E8 02                        	SHR	AL,2
   201 0000013E 83 C6 03                        	ADD	ESI,3
   202 00000141 0F B6 C0                        	MOVZX	EAX,AL
   203 00000144 50                              	PUSH	EAX
   204 00000145 68 000003C9                     	PUSH	969
   205 0000014A E8 [00000000]                   	CALL	_io_out8
   206 0000014F 83 C4 18                        	ADD	ESP,24
   207 00000152 39 FB                           	CMP	EBX,EDI
   208 00000154 7E BA                           	JLE	L27
   209 00000156 EB A6                           	JMP	L29
