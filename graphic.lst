     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_hankaku
     7 00000000                                 	EXTERN	_io_load_eflags
     8 00000000                                 	EXTERN	_io_cli
     9 00000000                                 	EXTERN	_io_out8
    10 00000000                                 	EXTERN	_io_store_eflags
    11 00000000                                 [FILE "graphic.c"]
    12                                          [SECTION .text]
    13 00000000                                 	GLOBAL	_init_screen
    14 00000000                                 _init_screen:
    15 00000000 55                              	PUSH	EBP
    16 00000001 89 E5                           	MOV	EBP,ESP
    17 00000003 57                              	PUSH	EDI
    18 00000004 56                              	PUSH	ESI
    19 00000005 53                              	PUSH	EBX
    20 00000006 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
    21 00000009 56                              	PUSH	ESI
    22 0000000A 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
    23 0000000D 53                              	PUSH	EBX
    24 0000000E 8B 7D 08                        	MOV	EDI,DWORD [8+EBP]
    25 00000011 6A 00                           	PUSH	0
    26 00000013 6A 00                           	PUSH	0
    27 00000015 6A 08                           	PUSH	8
    28 00000017 53                              	PUSH	EBX
    29 00000018 57                              	PUSH	EDI
    30 00000019 E8 000001F4                     	CALL	_boxfill8
    31 0000001E 8D 46 F6                        	LEA	EAX,DWORD [-10+ESI]
    32 00000021 56                              	PUSH	ESI
    33 00000022 83 EE 28                        	SUB	ESI,40
    34 00000025 53                              	PUSH	EBX
    35 00000026 50                              	PUSH	EAX
    36 00000027 6A 00                           	PUSH	0
    37 00000029 6A 0F                           	PUSH	15
    38 0000002B 53                              	PUSH	EBX
    39 0000002C 57                              	PUSH	EDI
    40 0000002D E8 000001E0                     	CALL	_boxfill8
    41 00000032 83 C4 38                        	ADD	ESP,56
    42 00000035 56                              	PUSH	ESI
    43 00000036 8D 73 CE                        	LEA	ESI,DWORD [-50+EBX]
    44 00000039 56                              	PUSH	ESI
    45 0000003A 6A 1E                           	PUSH	30
    46 0000003C 6A 32                           	PUSH	50
    47 0000003E 6A 07                           	PUSH	7
    48 00000040 53                              	PUSH	EBX
    49 00000041 57                              	PUSH	EDI
    50 00000042 E8 000001CB                     	CALL	_boxfill8
    51 00000047 6A 28                           	PUSH	40
    52 00000049 56                              	PUSH	ESI
    53 0000004A 6A 1E                           	PUSH	30
    54 0000004C 6A 32                           	PUSH	50
    55 0000004E 6A 0E                           	PUSH	14
    56 00000050 53                              	PUSH	EBX
    57 00000051 57                              	PUSH	EDI
    58 00000052 E8 000001BB                     	CALL	_boxfill8
    59 00000057 8D 43 C9                        	LEA	EAX,DWORD [-55+EBX]
    60 0000005A 83 C4 38                        	ADD	ESP,56
    61 0000005D 6A 26                           	PUSH	38
    62 0000005F 50                              	PUSH	EAX
    63 00000060 8D 43 C4                        	LEA	EAX,DWORD [-60+EBX]
    64 00000063 6A 21                           	PUSH	33
    65 00000065 50                              	PUSH	EAX
    66 00000066 6A 01                           	PUSH	1
    67 00000068 53                              	PUSH	EBX
    68 00000069 57                              	PUSH	EDI
    69 0000006A E8 000001A3                     	CALL	_boxfill8
    70 0000006F 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
    71 00000072 5B                              	POP	EBX
    72 00000073 5E                              	POP	ESI
    73 00000074 5F                              	POP	EDI
    74 00000075 5D                              	POP	EBP
    75 00000076 C3                              	RET
    76 00000077                                 	GLOBAL	_putfont8
    77 00000077                                 _putfont8:
    78 00000077 55                              	PUSH	EBP
    79 00000078 89 E5                           	MOV	EBP,ESP
    80 0000007A 57                              	PUSH	EDI
    81 0000007B 56                              	PUSH	ESI
    82 0000007C 31 F6                           	XOR	ESI,ESI
    83 0000007E 53                              	PUSH	EBX
    84 0000007F 8B 7D 1C                        	MOV	EDI,DWORD [28+EBP]
    85 00000082 8A 5D 18                        	MOV	BL,BYTE [24+EBP]
    86 00000085                                 L15:
    87 00000085 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
    88 00000088 8B 55 10                        	MOV	EDX,DWORD [16+EBP]
    89 0000008B 01 F0                           	ADD	EAX,ESI
    90 0000008D 0F AF 45 0C                     	IMUL	EAX,DWORD [12+EBP]
    91 00000091 03 45 08                        	ADD	EAX,DWORD [8+EBP]
    92 00000094 8D 0C 02                        	LEA	ECX,DWORD [EDX+EAX*1]
    93 00000097 8A 14 3E                        	MOV	DL,BYTE [ESI+EDI*1]
    94 0000009A 84 D2                           	TEST	DL,DL
    95 0000009C 79 02                           	JNS	L7
    96 0000009E 88 19                           	MOV	BYTE [ECX],BL
    97 000000A0                                 L7:
    98 000000A0 88 D0                           	MOV	AL,DL
    99 000000A2 83 E0 40                        	AND	EAX,64
   100 000000A5 84 C0                           	TEST	AL,AL
   101 000000A7 74 03                           	JE	L8
   102 000000A9 88 59 01                        	MOV	BYTE [1+ECX],BL
   103 000000AC                                 L8:
   104 000000AC 88 D0                           	MOV	AL,DL
   105 000000AE 83 E0 20                        	AND	EAX,32
   106 000000B1 84 C0                           	TEST	AL,AL
   107 000000B3 74 03                           	JE	L9
   108 000000B5 88 59 02                        	MOV	BYTE [2+ECX],BL
   109 000000B8                                 L9:
   110 000000B8 88 D0                           	MOV	AL,DL
   111 000000BA 83 E0 10                        	AND	EAX,16
   112 000000BD 84 C0                           	TEST	AL,AL
   113 000000BF 74 03                           	JE	L10
   114 000000C1 88 59 03                        	MOV	BYTE [3+ECX],BL
   115 000000C4                                 L10:
   116 000000C4 88 D0                           	MOV	AL,DL
   117 000000C6 83 E0 08                        	AND	EAX,8
   118 000000C9 84 C0                           	TEST	AL,AL
   119 000000CB 74 03                           	JE	L11
   120 000000CD 88 59 04                        	MOV	BYTE [4+ECX],BL
   121 000000D0                                 L11:
   122 000000D0 88 D0                           	MOV	AL,DL
   123 000000D2 83 E0 04                        	AND	EAX,4
   124 000000D5 84 C0                           	TEST	AL,AL
   125 000000D7 74 03                           	JE	L12
   126 000000D9 88 59 05                        	MOV	BYTE [5+ECX],BL
   127 000000DC                                 L12:
   128 000000DC 88 D0                           	MOV	AL,DL
   129 000000DE 83 E0 02                        	AND	EAX,2
   130 000000E1 84 C0                           	TEST	AL,AL
   131 000000E3 74 03                           	JE	L13
   132 000000E5 88 59 06                        	MOV	BYTE [6+ECX],BL
   133 000000E8                                 L13:
   134 000000E8 83 E2 01                        	AND	EDX,1
   135 000000EB 84 D2                           	TEST	DL,DL
   136 000000ED 74 03                           	JE	L5
   137 000000EF 88 59 07                        	MOV	BYTE [7+ECX],BL
   138 000000F2                                 L5:
   139 000000F2 46                              	INC	ESI
   140 000000F3 83 FE 0F                        	CMP	ESI,15
   141 000000F6 7E 8D                           	JLE	L15
   142 000000F8 5B                              	POP	EBX
   143 000000F9 5E                              	POP	ESI
   144 000000FA 5F                              	POP	EDI
   145 000000FB 5D                              	POP	EBP
   146 000000FC C3                              	RET
   147 000000FD                                 	GLOBAL	_putfonts8_asc
   148 000000FD                                 _putfonts8_asc:
   149 000000FD 55                              	PUSH	EBP
   150 000000FE 89 E5                           	MOV	EBP,ESP
   151 00000100 57                              	PUSH	EDI
   152 00000101 56                              	PUSH	ESI
   153 00000102 53                              	PUSH	EBX
   154 00000103 50                              	PUSH	EAX
   155 00000104 8B 5D 1C                        	MOV	EBX,DWORD [28+EBP]
   156 00000107 8A 45 18                        	MOV	AL,BYTE [24+EBP]
   157 0000010A 88 45 F3                        	MOV	BYTE [-13+EBP],AL
   158 0000010D 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   159 00000110 8B 7D 14                        	MOV	EDI,DWORD [20+EBP]
   160 00000113 80 3B 00                        	CMP	BYTE [EBX],0
   161 00000116 75 08                           	JNE	L23
   162 00000118                                 L25:
   163 00000118 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   164 0000011B 5B                              	POP	EBX
   165 0000011C 5E                              	POP	ESI
   166 0000011D 5F                              	POP	EDI
   167 0000011E 5D                              	POP	EBP
   168 0000011F C3                              	RET
   169 00000120                                 L23:
   170 00000120 0F B6 03                        	MOVZX	EAX,BYTE [EBX]
   171 00000123 C1 E0 04                        	SAL	EAX,4
   172 00000126 43                              	INC	EBX
   173 00000127 05 [00000000]                   	ADD	EAX,_hankaku
   174 0000012C 50                              	PUSH	EAX
   175 0000012D 0F BE 45 F3                     	MOVSX	EAX,BYTE [-13+EBP]
   176 00000131 50                              	PUSH	EAX
   177 00000132 57                              	PUSH	EDI
   178 00000133 56                              	PUSH	ESI
   179 00000134 83 C6 08                        	ADD	ESI,8
   180 00000137 FF 75 0C                        	PUSH	DWORD [12+EBP]
   181 0000013A FF 75 08                        	PUSH	DWORD [8+EBP]
   182 0000013D E8 FFFFFF35                     	CALL	_putfont8
   183 00000142 83 C4 18                        	ADD	ESP,24
   184 00000145 80 3B 00                        	CMP	BYTE [EBX],0
   185 00000148 75 D6                           	JNE	L23
   186 0000014A EB CC                           	JMP	L25
   187                                          [SECTION .data]
   188 00000000                                 _cursor.0:
   189 00000000 2A 2A 2A 2A 2A 2A 2A 2A 2A 2A   	DB	"**************.."
       0000000A 2A 2A 2A 2A 2E 2E 
   190 00000010 2A 2A 2A 2A 2A 2A 2A 2A 2A 2A   	DB	"*************..."
       0000001A 2A 2A 2A 2E 2E 2E 
   191 00000020 2A 2A 2A 2A 2A 2A 2A 2A 2A 2A   	DB	"************...."
       0000002A 2A 2A 2E 2E 2E 2E 
   192 00000030 2A 2A 2A 2A 2A 2A 2A 2A 2A 2A   	DB	"***********....."
       0000003A 2A 2E 2E 2E 2E 2E 
   193 00000040 2A 2A 2A 2A 2A 2A 2A 2A 2A 2A   	DB	"**********......"
       0000004A 2E 2E 2E 2E 2E 2E 
   194 00000050 2A 2A 2A 2A 2A 2A 2A 2A 2A 2E   	DB	"*********......."
       0000005A 2E 2E 2E 2E 2E 2E 
   195 00000060 2A 2A 2A 2A 2A 2A 2A 2A 2A 2E   	DB	"*********......."
       0000006A 2E 2E 2E 2E 2E 2E 
   196 00000070 2A 2A 2A 2A 2A 2A 2A 2A 2A 2A   	DB	"**********......"
       0000007A 2E 2E 2E 2E 2E 2E 
   197 00000080 2A 2A 2A 2A 2A 2A 2A 2A 2A 2A   	DB	"***********....."
       0000008A 2A 2E 2E 2E 2E 2E 
   198 00000090 2A 2A 2A 2A 2A 2E 2E 2A 2A 2A   	DB	"*****..*****...."
       0000009A 2A 2A 2E 2E 2E 2E 
   199 000000A0 2A 2A 2A 2A 2E 2E 2E 2E 2A 2A   	DB	"****....*****..."
       000000AA 2A 2A 2A 2E 2E 2E 
   200 000000B0 2A 2A 2A 2E 2E 2E 2E 2E 2E 2A   	DB	"***......*****.."
       000000BA 2A 2A 2A 2A 2E 2E 
   201 000000C0 2A 2A 2E 2E 2E 2E 2E 2E 2E 2E   	DB	"**........*****."
       000000CA 2A 2A 2A 2A 2A 2E 
   202 000000D0 2A 2E 2E 2E 2E 2E 2E 2E 2E 2E   	DB	"*..........*****"
       000000DA 2E 2A 2A 2A 2A 2A 
   203 000000E0 2E 2E 2E 2E 2E 2E 2E 2E 2E 2E   	DB	"............****"
       000000EA 2E 2E 2A 2A 2A 2A 
   204 000000F0 2E 2E 2E 2E 2E 2E 2E 2E 2E 2E   	DB	".............***"
       000000FA 2E 2E 2E 2A 2A 2A 
   205                                          [SECTION .text]
   206 0000014C                                 	GLOBAL	_init_mouse_cursor8
   207 0000014C                                 _init_mouse_cursor8:
   208 0000014C 55                              	PUSH	EBP
   209 0000014D 89 E5                           	MOV	EBP,ESP
   210 0000014F 57                              	PUSH	EDI
   211 00000150 56                              	PUSH	ESI
   212 00000151 31 FF                           	XOR	EDI,EDI
   213 00000153 53                              	PUSH	EBX
   214 00000154 31 DB                           	XOR	EBX,EBX
   215 00000156 51                              	PUSH	ECX
   216 00000157 8A 45 0C                        	MOV	AL,BYTE [12+EBP]
   217 0000015A 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   218 0000015D 88 45 F3                        	MOV	BYTE [-13+EBP],AL
   219 00000160                                 L39:
   220 00000160 31 D2                           	XOR	EDX,EDX
   221 00000162                                 L38:
   222 00000162 8D 04 3A                        	LEA	EAX,DWORD [EDX+EDI*1]
   223 00000165 80 B8 [00000000] 2A             	CMP	BYTE [_cursor.0+EAX],42
   224 0000016C 74 35                           	JE	L44
   225 0000016E                                 L35:
   226 0000016E 80 B8 [00000000] 4F             	CMP	BYTE [_cursor.0+EAX],79
   227 00000175 74 26                           	JE	L45
   228 00000177                                 L36:
   229 00000177 80 B8 [00000000] 2E             	CMP	BYTE [_cursor.0+EAX],46
   230 0000017E 74 15                           	JE	L46
   231 00000180                                 L33:
   232 00000180 42                              	INC	EDX
   233 00000181 83 FA 0F                        	CMP	EDX,15
   234 00000184 7E DC                           	JLE	L38
   235 00000186 43                              	INC	EBX
   236 00000187 83 C7 10                        	ADD	EDI,16
   237 0000018A 83 FB 0F                        	CMP	EBX,15
   238 0000018D 7E D1                           	JLE	L39
   239 0000018F 5A                              	POP	EDX
   240 00000190 5B                              	POP	EBX
   241 00000191 5E                              	POP	ESI
   242 00000192 5F                              	POP	EDI
   243 00000193 5D                              	POP	EBP
   244 00000194 C3                              	RET
   245 00000195                                 L46:
   246 00000195 8A 4D F3                        	MOV	CL,BYTE [-13+EBP]
   247 00000198 88 0C 30                        	MOV	BYTE [EAX+ESI*1],CL
   248 0000019B EB E3                           	JMP	L33
   249 0000019D                                 L45:
   250 0000019D C6 04 30 07                     	MOV	BYTE [EAX+ESI*1],7
   251 000001A1 EB D4                           	JMP	L36
   252 000001A3                                 L44:
   253 000001A3 C6 04 30 00                     	MOV	BYTE [EAX+ESI*1],0
   254 000001A7 EB C5                           	JMP	L35
   255 000001A9                                 	GLOBAL	_putblock8_8
   256 000001A9                                 _putblock8_8:
   257 000001A9 55                              	PUSH	EBP
   258 000001AA 89 E5                           	MOV	EBP,ESP
   259 000001AC 57                              	PUSH	EDI
   260 000001AD 56                              	PUSH	ESI
   261 000001AE 31 F6                           	XOR	ESI,ESI
   262 000001B0 53                              	PUSH	EBX
   263 000001B1 83 EC 0C                        	SUB	ESP,12
   264 000001B4 3B 75 14                        	CMP	ESI,DWORD [20+EBP]
   265 000001B7 7D 3E                           	JGE	L59
   266 000001B9 31 FF                           	XOR	EDI,EDI
   267 000001BB                                 L57:
   268 000001BB 31 DB                           	XOR	EBX,EBX
   269 000001BD 3B 5D 10                        	CMP	EBX,DWORD [16+EBP]
   270 000001C0 7D 2C                           	JGE	L61
   271 000001C2 8B 45 20                        	MOV	EAX,DWORD [32+EBP]
   272 000001C5 01 F8                           	ADD	EAX,EDI
   273 000001C7 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   274 000001CA                                 L56:
   275 000001CA 8B 45 1C                        	MOV	EAX,DWORD [28+EBP]
   276 000001CD 8B 55 18                        	MOV	EDX,DWORD [24+EBP]
   277 000001D0 01 F0                           	ADD	EAX,ESI
   278 000001D2 01 DA                           	ADD	EDX,EBX
   279 000001D4 0F AF 45 0C                     	IMUL	EAX,DWORD [12+EBP]
   280 000001D8 01 D0                           	ADD	EAX,EDX
   281 000001DA 8B 4D 08                        	MOV	ECX,DWORD [8+EBP]
   282 000001DD 8B 55 EC                        	MOV	EDX,DWORD [-20+EBP]
   283 000001E0 43                              	INC	EBX
   284 000001E1 8A 12                           	MOV	DL,BYTE [EDX]
   285 000001E3 88 14 08                        	MOV	BYTE [EAX+ECX*1],DL
   286 000001E6 FF 45 EC                        	INC	DWORD [-20+EBP]
   287 000001E9 3B 5D 10                        	CMP	EBX,DWORD [16+EBP]
   288 000001EC 7C DC                           	JL	L56
   289 000001EE                                 L61:
   290 000001EE 46                              	INC	ESI
   291 000001EF 03 7D 24                        	ADD	EDI,DWORD [36+EBP]
   292 000001F2 3B 75 14                        	CMP	ESI,DWORD [20+EBP]
   293 000001F5 7C C4                           	JL	L57
   294 000001F7                                 L59:
   295 000001F7 83 C4 0C                        	ADD	ESP,12
   296 000001FA 5B                              	POP	EBX
   297 000001FB 5E                              	POP	ESI
   298 000001FC 5F                              	POP	EDI
   299 000001FD 5D                              	POP	EBP
   300 000001FE C3                              	RET
   301                                          [SECTION .data]
   302 00000100                                 _table_rgb.1:
   303 00000100 00                              	DB	0
   304 00000101 00                              	DB	0
   305 00000102 00                              	DB	0
   306 00000103 FF                              	DB	-1
   307 00000104 00                              	DB	0
   308 00000105 00                              	DB	0
   309 00000106 00                              	DB	0
   310 00000107 FF                              	DB	-1
   311 00000108 00                              	DB	0
   312 00000109 FF                              	DB	-1
   313 0000010A FF                              	DB	-1
   314 0000010B 00                              	DB	0
   315 0000010C 00                              	DB	0
   316 0000010D 00                              	DB	0
   317 0000010E FF                              	DB	-1
   318 0000010F FF                              	DB	-1
   319 00000110 00                              	DB	0
   320 00000111 FF                              	DB	-1
   321 00000112 00                              	DB	0
   322 00000113 FF                              	DB	-1
   323 00000114 FF                              	DB	-1
   324 00000115 FF                              	DB	-1
   325 00000116 FF                              	DB	-1
   326 00000117 FF                              	DB	-1
   327 00000118 C6                              	DB	-58
   328 00000119 C6                              	DB	-58
   329 0000011A C6                              	DB	-58
   330 0000011B 84                              	DB	-124
   331 0000011C 00                              	DB	0
   332 0000011D 00                              	DB	0
   333 0000011E 00                              	DB	0
   334 0000011F 84                              	DB	-124
   335 00000120 00                              	DB	0
   336 00000121 84                              	DB	-124
   337 00000122 84                              	DB	-124
   338 00000123 00                              	DB	0
   339 00000124 00                              	DB	0
   340 00000125 00                              	DB	0
   341 00000126 84                              	DB	-124
   342 00000127 84                              	DB	-124
   343 00000128 00                              	DB	0
   344 00000129 84                              	DB	-124
   345 0000012A 00                              	DB	0
   346 0000012B 84                              	DB	-124
   347 0000012C 84                              	DB	-124
   348 0000012D 84                              	DB	-124
   349 0000012E 84                              	DB	-124
   350 0000012F 84                              	DB	-124
   351                                          [SECTION .text]
   352 000001FF                                 	GLOBAL	_init_palette
   353 000001FF                                 _init_palette:
   354 000001FF 55                              	PUSH	EBP
   355 00000200 89 E5                           	MOV	EBP,ESP
   356 00000202 68 [00000100]                   	PUSH	_table_rgb.1
   357 00000207 6A 0F                           	PUSH	15
   358 00000209 6A 00                           	PUSH	0
   359 0000020B E8 00000053                     	CALL	_set_palette
   360 00000210 C9                              	LEAVE
   361 00000211 C3                              	RET
   362 00000212                                 	GLOBAL	_boxfill8
   363 00000212                                 _boxfill8:
   364 00000212 55                              	PUSH	EBP
   365 00000213 89 E5                           	MOV	EBP,ESP
   366 00000215 57                              	PUSH	EDI
   367 00000216 56                              	PUSH	ESI
   368 00000217 53                              	PUSH	EBX
   369 00000218 57                              	PUSH	EDI
   370 00000219 57                              	PUSH	EDI
   371 0000021A 8A 45 10                        	MOV	AL,BYTE [16+EBP]
   372 0000021D 8B 4D 18                        	MOV	ECX,DWORD [24+EBP]
   373 00000220 8B 7D 1C                        	MOV	EDI,DWORD [28+EBP]
   374 00000223 88 45 F3                        	MOV	BYTE [-13+EBP],AL
   375 00000226 3B 4D 20                        	CMP	ECX,DWORD [32+EBP]
   376 00000229 7F 31                           	JG	L75
   377 0000022B 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   378 0000022E 0F AF D9                        	IMUL	EBX,ECX
   379 00000231                                 L73:
   380 00000231 8B 55 14                        	MOV	EDX,DWORD [20+EBP]
   381 00000234 39 FA                           	CMP	EDX,EDI
   382 00000236 7F 1B                           	JG	L77
   383 00000238 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   384 0000023B 01 DE                           	ADD	ESI,EBX
   385 0000023D 01 D6                           	ADD	ESI,EDX
   386 0000023F 89 75 EC                        	MOV	DWORD [-20+EBP],ESI
   387 00000242                                 L72:
   388 00000242 8B 75 EC                        	MOV	ESI,DWORD [-20+EBP]
   389 00000245 8A 45 F3                        	MOV	AL,BYTE [-13+EBP]
   390 00000248 42                              	INC	EDX
   391 00000249 88 06                           	MOV	BYTE [ESI],AL
   392 0000024B 46                              	INC	ESI
   393 0000024C 89 75 EC                        	MOV	DWORD [-20+EBP],ESI
   394 0000024F 39 FA                           	CMP	EDX,EDI
   395 00000251 7E EF                           	JLE	L72
   396 00000253                                 L77:
   397 00000253 41                              	INC	ECX
   398 00000254 03 5D 0C                        	ADD	EBX,DWORD [12+EBP]
   399 00000257 3B 4D 20                        	CMP	ECX,DWORD [32+EBP]
   400 0000025A 7E D5                           	JLE	L73
   401 0000025C                                 L75:
   402 0000025C 5B                              	POP	EBX
   403 0000025D 5E                              	POP	ESI
   404 0000025E 5B                              	POP	EBX
   405 0000025F 5E                              	POP	ESI
   406 00000260 5F                              	POP	EDI
   407 00000261 5D                              	POP	EBP
   408 00000262 C3                              	RET
   409 00000263                                 	GLOBAL	_set_palette
   410 00000263                                 _set_palette:
   411 00000263 55                              	PUSH	EBP
   412 00000264 89 E5                           	MOV	EBP,ESP
   413 00000266 57                              	PUSH	EDI
   414 00000267 56                              	PUSH	ESI
   415 00000268 53                              	PUSH	EBX
   416 00000269 51                              	PUSH	ECX
   417 0000026A 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   418 0000026D 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   419 00000270 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   420 00000273 E8 [00000000]                   	CALL	_io_load_eflags
   421 00000278 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   422 0000027B E8 [00000000]                   	CALL	_io_cli
   423 00000280 53                              	PUSH	EBX
   424 00000281 68 000003C8                     	PUSH	968
   425 00000286 E8 [00000000]                   	CALL	_io_out8
   426 0000028B 39 FB                           	CMP	EBX,EDI
   427 0000028D 58                              	POP	EAX
   428 0000028E 5A                              	POP	EDX
   429 0000028F 7E 12                           	JLE	L83
   430 00000291                                 L85:
   431 00000291 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   432 00000294 89 45 08                        	MOV	DWORD [8+EBP],EAX
   433 00000297 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   434 0000029A 5B                              	POP	EBX
   435 0000029B 5E                              	POP	ESI
   436 0000029C 5F                              	POP	EDI
   437 0000029D 5D                              	POP	EBP
   438 0000029E E9 [00000000]                   	JMP	_io_store_eflags
   439 000002A3                                 L83:
   440 000002A3 8A 06                           	MOV	AL,BYTE [ESI]
   441 000002A5 43                              	INC	EBX
   442 000002A6 C0 E8 02                        	SHR	AL,2
   443 000002A9 0F B6 C0                        	MOVZX	EAX,AL
   444 000002AC 50                              	PUSH	EAX
   445 000002AD 68 000003C9                     	PUSH	969
   446 000002B2 E8 [00000000]                   	CALL	_io_out8
   447 000002B7 8A 46 01                        	MOV	AL,BYTE [1+ESI]
   448 000002BA C0 E8 02                        	SHR	AL,2
   449 000002BD 0F B6 C0                        	MOVZX	EAX,AL
   450 000002C0 50                              	PUSH	EAX
   451 000002C1 68 000003C9                     	PUSH	969
   452 000002C6 E8 [00000000]                   	CALL	_io_out8
   453 000002CB 8A 46 02                        	MOV	AL,BYTE [2+ESI]
   454 000002CE C0 E8 02                        	SHR	AL,2
   455 000002D1 83 C6 03                        	ADD	ESI,3
   456 000002D4 0F B6 C0                        	MOVZX	EAX,AL
   457 000002D7 50                              	PUSH	EAX
   458 000002D8 68 000003C9                     	PUSH	969
   459 000002DD E8 [00000000]                   	CALL	_io_out8
   460 000002E2 83 C4 18                        	ADD	ESP,24
   461 000002E5 39 FB                           	CMP	EBX,EDI
   462 000002E7 7E BA                           	JLE	L83
   463 000002E9 EB A6                           	JMP	L85
